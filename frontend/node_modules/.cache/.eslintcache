[{"C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\index.js":"1","C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\App.js":"2","C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\components\\HomeView.js":"3","C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\components\\Table.js":"4","C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\components\\FormModal.js":"5","C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\components\\RelationModal.js":"6"},{"size":207,"mtime":1731986173250,"results":"7","hashOfConfig":"8"},{"size":279,"mtime":1731986187419,"results":"9","hashOfConfig":"8"},{"size":4025,"mtime":1733350372821,"results":"10","hashOfConfig":"8"},{"size":3572,"mtime":1733350503249,"results":"11","hashOfConfig":"8"},{"size":7025,"mtime":1733349253160,"results":"12","hashOfConfig":"8"},{"size":5460,"mtime":1733353104872,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"hpv8mn",{"filePath":"17","messages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\index.js",[],["28","29"],"C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\App.js",[],"C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\components\\HomeView.js",[],"C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\components\\Table.js",["30"],"import React, { useEffect, useState } from 'react';\r\nimport { FaEdit, FaTrashAlt, FaUsers } from 'react-icons/fa';\r\n\r\nconst Table = ({ table, searchTerm, status, onEdit, onViewRelated }) => {\r\n  const [data, setData] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [table, searchTerm, status]);\r\n\r\n  const fetchData = () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    fetch(`http://localhost:5000/api/${table}?status=${status}&name=${searchTerm}`)\r\n      .then((response) => {\r\n        if (!response.ok) throw new Error(`Erro ao buscar dados: ${response.statusText}`);\r\n        return response.json();\r\n      })\r\n      .then((data) => setData(data))\r\n      .catch((err) => setError(err.message))\r\n      .finally(() => setIsLoading(false));\r\n  };\r\n\r\n  const handleDeactivate = (id) => {\r\n    fetch(`http://localhost:5000/api/${table}/${id}/deactivate`, { method: 'PATCH' })\r\n      .then((response) => {\r\n        if (!response.ok) throw new Error('Erro ao desativar registro.');\r\n        fetchData(); // Atualiza a tabela\r\n      })\r\n      .catch((err) => setError(err.message));\r\n  };\r\n\r\n  const handleReactivate = (id) => {\r\n    fetch(`http://localhost:5000/api/${table}/${id}/activate`, { method: 'PATCH' })\r\n      .then((response) => {\r\n        if (!response.ok) throw new Error('Erro ao reativar registro.');\r\n        fetchData(); // Atualiza a tabela\r\n      })\r\n      .catch((err) => setError(err.message));\r\n  };\r\n\r\n  const renderActions = (row) => (\r\n    <td>\r\n      <FaEdit\r\n        style={{ cursor: 'pointer', marginRight: '10px', color: 'blue' }}\r\n        onClick={() => onEdit(row)}\r\n      />\r\n      {status === 'ativo' ? (\r\n        <FaTrashAlt\r\n          style={{ cursor: 'pointer', marginRight: '10px', color: 'red' }}\r\n          onClick={() => handleDeactivate(row.id)}\r\n        />\r\n      ) : (\r\n        <FaUsers\r\n          style={{ cursor: 'pointer', marginRight: '10px', color: 'green' }}\r\n          onClick={() => handleReactivate(row.id)}\r\n        />\r\n      )}\r\n      {(table === 'alunos' || table === 'turmas') && (\r\n        <FaUsers\r\n          style={{ cursor: 'pointer', color: 'green' }}\r\n          onClick={() => onViewRelated(row.id)} // Ação de visualizar relacionamentos\r\n        />\r\n      )}\r\n    </td>\r\n  );\r\n\r\n  if (!table) {\r\n    return <p>Selecione uma tabela para visualizar os dados.</p>;\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <p>Carregando dados...</p>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p className=\"error-message\">{error}</p>;\r\n  }\r\n\r\n  const columns = data.length > 0\r\n    ? Object.keys(data[0]).filter((key) => key !== 'status') // Remove a coluna 'status' da exibição\r\n    : [];\r\n\r\n  if (data.length > 0) {\r\n    columns.push('ações');\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <table className=\"data-table\">\r\n        <thead>\r\n          <tr>\r\n            {columns.map((col) => (\r\n              <th key={col}>{col.toUpperCase()}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data.length > 0 ? (\r\n            data.map((row) => (\r\n              <tr key={row.id}>\r\n                {columns.map((col) =>\r\n                  col === 'ações' ? renderActions(row) : <td key={col}>{row[col]}</td>\r\n                )}\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan={columns.length}>Nenhum dado encontrado.</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\components\\FormModal.js",[],"C:\\CODIGOS\\projetofinalpraticaengsoft\\projetofinalpraticaengsoft\\frontend\\src\\components\\RelationModal.js",["31"],{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","replacedBy":"35"},{"ruleId":"36","severity":1,"message":"37","line":11,"column":6,"nodeType":"38","endLine":11,"endColumn":33,"suggestions":"39"},{"ruleId":"36","severity":1,"message":"40","line":11,"column":6,"nodeType":"38","endLine":11,"endColumn":8,"suggestions":"41"},"no-native-reassign",["42"],"no-negated-in-lhs",["43"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","ArrayExpression",["44"],"React Hook useEffect has a missing dependency: 'fetchRelatedData'. Either include it or remove the dependency array.",["45"],"no-global-assign","no-unsafe-negation",{"desc":"46","fix":"47"},{"desc":"48","fix":"49"},"Update the dependencies array to be: [table, searchTerm, status, fetchData]",{"range":"50","text":"51"},"Update the dependencies array to be: [fetchRelatedData]",{"range":"52","text":"53"},[379,406],"[table, searchTerm, status, fetchData]",[460,462],"[fetchRelatedData]"]